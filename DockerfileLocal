### Local development only ###

FROM ruby:2.5.1-alpine

RUN apk add --update --no-cache \
  bash \
  build-base \
  git \
  libxml2-dev \
  libxslt-dev \
  nodejs \
  mysql \
  mysql-client \
  mysql-dev  \
  tzdata

RUN gem update --system && \
  gem install bundler && \
  bundle config build.nokogiri --use-system-libraries

# Create working directory
RUN mkdir -p /home/hdc

# Set working directory
WORKDIR /home/hdc

# Copy code
COPY . /home/hdc

# Expose ports
EXPOSE 3000

